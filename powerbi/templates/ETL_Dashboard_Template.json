{
  "version": "1.0",
  "name": "ETL Dashboard Template",
  "description": "Automated ETL Dashboard PowerBI Template",
  "dataModel": {
    "tables": [
      "masterbom_clean",
      "plant_item_status",
      "fact_parts",
      "status_clean",
      "dim_dates"
    ],
    "relationships": [
      {
        "from_table": "masterbom_clean",
        "from_column": "part_id_std",
        "to_table": "plant_item_status",
        "to_column": "part_id_std",
        "cardinality": "one_to_many"
      },
      {
        "from_table": "fact_parts",
        "from_column": "Approved Date_date",
        "to_table": "dim_dates",
        "to_column": "date",
        "cardinality": "many_to_one"
      }
    ]
  },
  "queries": {
    "masterbom_clean": {
      "script": "let\n    Source = Parquet.Document(File.Contents(\"C:\\Users\\M'barek\\OneDrive\\Desktop\\New folder\\BI_ETL_DASH\\data\\pipeline_output/masterbom_clean.parquet\")),\n    PromoteHeaders = Table.PromoteHeaders(Source, [PromoteAllScalars=true]),\n    ChangeTypes = Table.TransformColumnTypes(PromoteHeaders,{{\"Yazaki PN\", type text}, {\"BX726_BEV_JOB1+90_YMOK\", type text}, {\"BX726_BEV_JOB1+90_YRL\", type text}, {\"BX726_MCA_JOB1+90_YMOK\", type text}, {\"BX726_MCA_JOB1+90_YRL\", type text}, {\"BX726_GSR_TT_YMOK\", type text}, {\"BX726_GSR_TT_YRL\", type text}, {\"CX482_24MY_YBE\", type text}, {\"V710_B1_W2_HV_JOB1+90_YBE\", type text}, {\"V710_JOB1+90_YMO-K\", type text}, {\"V710_JOB1+90_YOT-G\", type text}, {\"V710_JOB1+90_YOT-K\", type text}, {\"V710_JOB1+90_YWTT\", type text}, {\"V710_B2_J74_JOB1+90_YMOK\", type text}, {\"V710_B2_J74_JOB1+90_YOT-G\", type text}, {\"V710_B2_J74_JOB1+90_YOT-K\", type text}, {\"V710_B2_J74_JOB1+90_YWTT\", type text}, {\"V710_HV_AWD_TT_YBE\", type text}, {\"V710_AWD_PP_YMOK\", type text}, {\"V710_AWD_TT_YOTG\", type text}, {\"V710_AWD_PP_YOTK\", type text}, {\"V710_AWD_PP_YWTT\", type text}, {\"FORD_V769_JOB1+180_HV_YRL\", type text}, {\"Item Description\", type text}, {\"Supplier Name\", type text}, {\"Supplier PN\", type text}, {\"Original Supplier Name\", type text}, {\"Original Supplier PN\", type text}, {\"Customer PN\", type text}, {\"Document Complete\", type text}, {\"IsCustomerDrawing\", type text}, {\"PSW Type\", type text}, {\"PSW Sub Type\", type text}, {\"Approved Date\", type text}, {\"PSW Date OK\", type text}, {\"PSW\", type text}, {\"Part Specification\", type text}, {\"Plant FAR\", type text}, {\"TDC Remarks\", type text}, {\"YPN Status\", type text}, {\"Handling Manual\", type text}, {\"Customer Engineering Approval\", type text}, {\"Promised Date\", type text}, {\"IMDS STATUS\n(Yes, No, N/A)\", type text}, {\"IMDS REMARKS\", type text}, {\"FAR Status\", type text}, {\"FAR Promised date\", type text}, {\"PPAP Details\", type text}, {\"BUHIN\", type text}, {\"R @R OK/NOK\", type text}, {\"Active Parts\", type text}, {\"YBE All Projects\", type text}, {\"YMO-K All Projects\", type text}, {\"YOT-G All Projects\", type text}, {\"YOT-K All Projects\", type text}, {\"YRL All Projects\", type text}, {\"YWTT All Projects\", type text}, {\"BX726 BEV\", type text}, {\"V769\", type text}, {\"BX726 MCA\", type text}, {\"BX726 GSR\", type text}, {\"V710 B1\", type text}, {\"CX482\", type text}, {\"V710 B2\", type text}, {\"V710 ICA AWD BEV\", type text}, {\"Not 100% Approved\n(Under Deviation)\", type text}, {\"Parts Under Deviation\", type text}, {\"part_id_raw\", type text}, {\"part_id_std\", type text}, {\"Supplier PN_date\", type text}, {\"Supplier PN_year\", type number}, {\"Supplier PN_month\", type number}, {\"Supplier PN_day\", type number}, {\"Supplier PN_qtr\", type number}, {\"Supplier PN_week\", type text}, {\"Original Supplier PN_date\", type text}, {\"Original Supplier PN_year\", type number}, {\"Original Supplier PN_month\", type number}, {\"Original Supplier PN_day\", type number}, {\"Original Supplier PN_qtr\", type number}, {\"Original Supplier PN_week\", type text}, {\"Approved Date_date\", type text}, {\"Approved Date_year\", type number}, {\"Approved Date_month\", type number}, {\"Approved Date_day\", type number}, {\"Approved Date_qtr\", type number}, {\"Approved Date_week\", type text}, {\"PSW Date OK_date\", type datetime}, {\"PSW Date OK_year\", type number}, {\"PSW Date OK_month\", type number}, {\"PSW Date OK_day\", type number}, {\"PSW Date OK_qtr\", type number}, {\"PSW Date OK_week\", type text}, {\"PSW_date\", type text}, {\"PSW_year\", type number}, {\"PSW_month\", type number}, {\"PSW_day\", type number}, {\"PSW_qtr\", type number}, {\"PSW_week\", type text}, {\"Promised Date_date\", type text}, {\"Promised Date_year\", type number}, {\"Promised Date_month\", type number}, {\"Promised Date_day\", type number}, {\"Promised Date_qtr\", type number}, {\"Promised Date_week\", type text}, {\"FAR Promised date_date\", type text}, {\"FAR Promised date_year\", type number}, {\"FAR Promised date_month\", type number}, {\"FAR Promised date_day\", type number}, {\"FAR Promised date_qtr\", type number}, {\"FAR Promised date_week\", type text}})\nin\n    ChangeTypes",
      "description": "Load masterbom_clean from Parquet file"
    },
    "plant_item_status": {
      "script": "let\n    Source = Parquet.Document(File.Contents(\"C:\\Users\\M'barek\\OneDrive\\Desktop\\New folder\\BI_ETL_DASH\\data\\pipeline_output/plant_item_status.parquet\")),\n    PromoteHeaders = Table.PromoteHeaders(Source, [PromoteAllScalars=true]),\n    ChangeTypes = Table.TransformColumnTypes(PromoteHeaders,{{\"part_id_std\", type text}, {\"part_id_raw\", type text}, {\"Yazaki PN\", type text}, {\"project_plant\", type text}, {\"raw_status\", type text}, {\"status_class\", type text}, {\"is_duplicate\", type logical}, {\"is_new\", type logical}, {\"notes\", type text}, {\"n_active\", Int64.Type}, {\"n_inactive\", Int64.Type}, {\"n_new\", Int64.Type}, {\"n_duplicate\", Int64.Type}})\nin\n    ChangeTypes",
      "description": "Load plant_item_status from Parquet file"
    },
    "fact_parts": {
      "script": "let\n    Source = Parquet.Document(File.Contents(\"C:\\Users\\M'barek\\OneDrive\\Desktop\\New folder\\BI_ETL_DASH\\data\\pipeline_output/fact_parts.parquet\")),\n    PromoteHeaders = Table.PromoteHeaders(Source, [PromoteAllScalars=true]),\n    ChangeTypes = Table.TransformColumnTypes(PromoteHeaders,{{\"part_id_std\", type text}, {\"part_id_raw\", type text}, {\"Item Description\", type text}, {\"Supplier Name\", type text}, {\"Supplier PN\", type text}, {\"PSW\", type text}, {\"PSW Type\", type text}, {\"PSW Sub Type\", type text}, {\"YPN Status\", type text}, {\"Handling Manual\", type text}, {\"FAR Status\", type text}, {\"PPAP Details\", type text}, {\"psw_ok\", type logical}, {\"has_handling_manual\", type logical}, {\"far_ok\", type logical}})\nin\n    ChangeTypes",
      "description": "Load fact_parts from Parquet file"
    },
    "status_clean": {
      "script": "let\n    Source = Parquet.Document(File.Contents(\"C:\\Users\\M'barek\\OneDrive\\Desktop\\New folder\\BI_ETL_DASH\\data\\pipeline_output/status_clean.parquet\")),\n    PromoteHeaders = Table.PromoteHeaders(Source, [PromoteAllScalars=true]),\n    ChangeTypes = Table.TransformColumnTypes(PromoteHeaders,{{\"OEM\", type text}, {\"Project\", type text}, {\"Sqe\", type text}, {\"PPAP\", type text}, {\"Total_Part_Numbers\", type text}, {\"PSW\", type text}, {\"%\", type text}, {\"Drawing_Available\", type number}, {\"%.1\", type text}, {\"Qty\", type text}, {\"Connectors_Handling_Manual_Available\", type number}, {\"Do_Not_Exist\", type text}, {\"%.2\", type number}, {\"Carset\", type text}, {\"Bom_File_Date\", type text}, {\"Managed_By\", type text}, {\"Imds\", type text}, {\"%\", type text}, {\"Sop\", type text}, {\"M2_Parts\", type text}, {\"PSW\", type text}, {\"Unnamed:_21\", type text}, {\"Unnamed:_22\", type text}, {\"R_@R\", type text}, {\"%.1\", type text}, {\"Asqe_Self-Assessment\", type text}, {\"Project\", type text}, {\"Asqe_Activities\", type text}, {\"Project\", type text}, {\"Last_Sq_Fr_Assessment\", type text}, {\"Comment\", type text}, {\"Cfr_6B\", type text}, {\"Completion_Date_(_Special_Activity)\", type text}, {\"Full_Approval\", type text}, {\"Approval_Based_On_Deviation\", type text}, {\"Ept\", type text}})\nin\n    ChangeTypes",
      "description": "Load status_clean from Parquet file"
    },
    "dim_dates": {
      "script": "let\n    Source = Parquet.Document(File.Contents(\"C:\\Users\\M'barek\\OneDrive\\Desktop\\New folder\\BI_ETL_DASH\\data\\pipeline_output/dim_dates.parquet\")),\n    PromoteHeaders = Table.PromoteHeaders(Source, [PromoteAllScalars=true]),\n    ChangeTypes = Table.TransformColumnTypes(PromoteHeaders,{{\"date\", type text}, {\"role\", type text}, {\"year\", Int64.Type}, {\"month\", Int64.Type}, {\"day\", Int64.Type}, {\"quarter\", Int64.Type}, {\"week\", Int64.Type}, {\"weekday\", Int64.Type}, {\"month_name\", type text}, {\"day_name\", type text}})\nin\n    ChangeTypes",
      "description": "Load dim_dates from Parquet file"
    }
  },
  "metadata": {
    "created_by": "ETL Dashboard",
    "tables_count": 5,
    "total_rows": 96930,
    "data_source": "Parquet Files",
    "refresh_method": "Manual/Scheduled"
  }
}